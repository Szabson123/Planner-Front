<div class="controls">
  <button (click)="previousMonth()">← Previous</button>
  <span>{{ currentMonth.format('MMMM YYYY') }}</span>
  <button (click)="nextMonth()">Next →</button>
</div>

<div class="timeline-container">
  <table class="timeline-table">
    <thead>
      <tr>
        <th></th>
        <th *ngFor="let date of dates">{{ date.format('DD MMM YYYY') }}</th>
      </tr>
      <tr>
        <th></th>
        <th *ngFor="let date of dates">{{ date.format('dddd') }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td class="user-name">{{ user.first_name }} {{ user.last_name }}</td>
        <td *ngFor="let date of dates">
          <div *ngIf="hasFreeDay(date, user)" style="background-color:aquamarine;">Dzień wolny</div>
          <div class="event-details" *ngFor="let event of getEventsForDateAndUser(date, user)">
            <div class="event_name">{{ event.shift_name }}</div>
            <div class="event_hours">{{ formatTime(event.start_time)}} - {{formatTime(event.end_time)}}</div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  <button (click)="generatePlanner()">Generate Planner</button>
  <button (click)="restorePlanner()">RestorePlanner</button>
</div>

<div>
  <h1>Shift List</h1>
  <ul>
    <li *ngFor="let shift of shifts">
      <strong>Name:</strong> {{ shift.name }}<br>
      <strong>Description:</strong> {{ shift.description }}<br>
      <strong>Start Time:</strong> {{ shift.start_time }}<br>
      <strong>End Time:</strong> {{ shift.end_time }}<br>
      <strong>User:</strong> {{ shift.users.first_name }} {{ shift.users.last_name }}<br>
    </li>
  </ul>
</div>

<div>
  <h1>User List</h1>
  <ul>
    <li *ngFor="let user of users">
      <strong>Username:</strong> {{ user.username }}<br>
      <strong>First Name:</strong> {{ user.first_name }}<br>
      <strong>Last Name:</strong> {{ user.last_name }}<br>
      <strong>Email:</strong> {{ user.email }}<br>
    </li>
  </ul>
</div>
